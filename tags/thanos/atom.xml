<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:sy="http://purl.org/rss/1.0/modules/syndication/" xmlns:media="http://search.yahoo.com/mrss/"><channel><title>Thanos on 陈少文的网站</title><link>https://www.chenshaowen.com/tags/thanos/</link><description>Recent content in Thanos on 陈少文的网站</description><generator>Hugo -- gohugo.io</generator><language>zh</language><copyright>&amp;copy;2016 - {year}, All Rights Reserved.</copyright><lastBuildDate>Wed, 11 May 2022 19:51:48 +0000</lastBuildDate><sy:updatePeriod>weekly</sy:updatePeriod><atom:link href="https://www.chenshaowen.com/tags/thanos/atom.xml" rel="self" type="application/rss+xml"/><item><title>二进制部署 Thanos</title><link>https://www.chenshaowen.com/blog/install-thanos-using-binary.html</link><pubDate>Wed, 11 May 2022 19:51:48 +0000</pubDate><atom:modified>Wed, 11 May 2022 19:51:48 +0000</atom:modified><guid>https://www.chenshaowen.com/blog/install-thanos-using-binary.html</guid><description>1. 下载二进制文件 1 2 3 4 wget https://github.com/thanos-io/thanos/releases/download/v0.26.0/thanos-0.26.0.linux-amd64.tar.gz tar xvf thanos-0.26.0.linux-amd64.tar.gz mv thanos-0.26.0.linux-amd64/thanos /usr/bin/ rm -rf thanos-0.26.0.linux-amd64* 2. 安装 Thanos Query 1 vim /etc/systemd/system/thanos-query.service 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 [Unit] Description=Thanos Query After=network-online.target [Service] Restart=on-failure ExecStart=/usr/bin/thanos query \ --log.level=debug \ --query.auto-downsampling \ --grpc-address=0.0.0.0:30091 \ --http-address=0.0.0.0:30092 \ --query.partial-response \ --query.replica-label=prometheus_replica \ --query.replica-label=rule_replica \ --store=1.0.0.0:30091 \ --store=2.0.0.0:30091 [Install] WantedBy=multi-user.target --store 参数添加需要聚合的全部源。 1 systemctl daemon-reload &amp;amp;&amp;amp; systemctl enable thanos-query 1 systemctl start thanos-query &amp;amp;&amp;amp; systemctl status thanos-query 3. 安装 Thanos Sidecar 1 vim /etc/systemd/system/thanos-sidecar.service 1 2 3 4 5</description><dc:creator>微信公众号</dc:creator><category>监控</category><category>Thanos</category><category>协议</category><category>博文</category></item><item><title>Thanos 进阶使用指南</title><link>https://www.chenshaowen.com/blog/an-advanced-user-guide-about-thanos.html</link><pubDate>Mon, 28 Mar 2022 19:51:48 +0000</pubDate><atom:modified>Mon, 28 Mar 2022 19:51:48 +0000</atom:modified><guid>https://www.chenshaowen.com/blog/an-advanced-user-guide-about-thanos.html</guid><description>1. 使用 Query 聚合数据 如上图，Thanos Query 可以对接的组件有： Thanos Store Gateway Thanos Query Thanos Receive Prometheus，借助于 Sidecar 利用 Thanos Query 之间的级联，我们可以实现跨组件的关联查询，组建超大型的监控系统。这也意味着，每个对接的组件应该提供足够快的 Prometheus API。整个接口的响应时</description><dc:creator>微信公众号</dc:creator><category>博文</category><category>Thanos</category><category>监控</category><category>存储</category><category>指标</category></item><item><title>使用 Thanos 集中管理多 Prometheus 实例数据</title><link>https://www.chenshaowen.com/blog/manage-multiple-prometheus-using-thanos.html</link><pubDate>Tue, 22 Mar 2022 00:00:00 +0000</pubDate><atom:modified>Tue, 22 Mar 2022 00:00:00 +0000</atom:modified><guid>https://www.chenshaowen.com/blog/manage-multiple-prometheus-using-thanos.html</guid><description>1. 监控的分层 如上图，在建设监控系统时，会采用两种策略: 分层监控。IaaS、MySQL 中间件、App 层监控分开的好处是，系统之间具有高可用性、容错性。当 App 层监控无法工作时，IaaS 层监控立马就会体现出来。 长短期指标分离。短期指标用来提供给告警</description><dc:creator>微信公众号</dc:creator><category>博文</category><category>Thanos</category><category>Prometheus</category><category>监控</category><category>存储</category></item></channel></rss>