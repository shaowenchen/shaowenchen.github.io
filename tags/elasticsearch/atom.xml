<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:sy="http://purl.org/rss/1.0/modules/syndication/" xmlns:media="http://search.yahoo.com/mrss/"><channel><title>Elasticsearch on 陈少文的网站</title><link>https://www.chenshaowen.com/tags/elasticsearch/</link><description>Recent content in Elasticsearch on 陈少文的网站</description><generator>Hugo -- gohugo.io</generator><language>zh</language><copyright>&amp;copy;2016 - {year}, All Rights Reserved.</copyright><lastBuildDate>Mon, 03 Jun 2024 21:00:16 +0000</lastBuildDate><sy:updatePeriod>weekly</sy:updatePeriod><atom:link href="https://www.chenshaowen.com/tags/elasticsearch/atom.xml" rel="self" type="application/rss+xml"/><item><title>高频 IO 的 POD 并不适合设置 Limit</title><link>https://www.chenshaowen.com/blog/high-frequency-io-pod-not-suitable-for-setting-limit.html</link><pubDate>Mon, 03 Jun 2024 21:00:16 +0000</pubDate><atom:modified>Mon, 03 Jun 2024 21:00:16 +0000</atom:modified><guid>https://www.chenshaowen.com/blog/high-frequency-io-pod-not-suitable-for-setting-limit.html</guid><description>1. 现象 基于 Kubernetes 的 Elasticsearch 频繁重启，导致服务几乎不可用。 在导入数据过程中，Pod 的内存使用持续增长 Pod 内存使用接近 Limit 之后，继续导入就会触发 Pod 异常退出，错误日志 ERROR: Elasticsearch exited unexpectedly Pod 内存使用率并不会下降，而是维持在 Limit 附近，不久又异常退出 Elasticsearch Pod 内存限制在 64GB，而 JVM 内</description><dc:creator>微信公众号</dc:creator><category>博文</category><category>IO</category><category>Kuberentes</category><category>Elasticsearch</category></item><item><title>部署基于内存存储的 Elasticsearch - 一亿+条数据，全文检索 100ms 响应</title><link>https://www.chenshaowen.com/blog/deploy-elasticsearch-using-memory-storage.html</link><pubDate>Wed, 29 May 2024 00:00:00 +0000</pubDate><atom:modified>Wed, 29 May 2024 00:00:00 +0000</atom:modified><guid>https://www.chenshaowen.com/blog/deploy-elasticsearch-using-memory-storage.html</guid><description>1. 在主机上挂载内存存储目录 创建目录用于挂载 1 mkdir /mnt/memory_storage 挂载 tmpfs 文件系统 1 mount -t tmpfs -o size=800G tmpfs /mnt/memory_storage 存储空间会按需使用，也就是使用 100G 存储时才会占用 100G 内存。主机节点上有 2T 内存，这里分配 800G 内存用于存储 Elasticsearch 数据。 提前创建好目录 1 2 3 mkdir /mnt/memory_storage/elasticsearch-data-es-jfs-prod-es-default-0 mkdir /mnt/memory_storage/elasticsearch-data-es-jfs-prod-es-default-1 mkdir /mnt/memory_storage/elasticsearch-data-es-jfs-prod-es-default-2 如果没有提前创建好目录，并</description><dc:creator>微信公众号</dc:creator><category>博文</category><category>Elasticsearch</category><category>高性能</category><category>全文检索</category></item><item><title>使用 JuiceFS 存储 Elasticsearch 数据</title><link>https://www.chenshaowen.com/blog/store-elasticsearch-data-in-juicefs.html</link><pubDate>Wed, 22 May 2024 00:00:00 +0000</pubDate><atom:modified>Wed, 22 May 2024 00:00:00 +0000</atom:modified><guid>https://www.chenshaowen.com/blog/store-elasticsearch-data-in-juicefs.html</guid><description>1. 存储方案 三种存储方案： 基于目录隔离公用一个 JuiceFS Elasticsearch 的节点共用一个 JuiceFS，通过子目录挂载不同的 Elasticsearch 节点。 /0/ 对应节点 Node-0 /1/ 对应节点 Node-1 /2/ 对应节点 Node-2 这种方式的好处主要是，易于扩展、配置方便。 基于 JuiceFS 隔离节点数据 Elasticsearch 每个节点都对接一个独立的 JuiceF</description><dc:creator>微信公众号</dc:creator><category>博文</category><category>Kubernetes</category><category>JuiceFS</category><category>Elasticsearch</category><category>数据存储</category></item><item><title>在 Kubernetes 集群上部署 Elasticsearch 栈</title><link>https://www.chenshaowen.com/blog/how-to-deploy-the-elasticsearch-stack-on-kubernetes.html</link><pubDate>Wed, 06 Jul 2022 00:00:00 +0000</pubDate><atom:modified>Wed, 06 Jul 2022 00:00:00 +0000</atom:modified><guid>https://www.chenshaowen.com/blog/how-to-deploy-the-elasticsearch-stack-on-kubernetes.html</guid><description>如果采用 Logstash 集中接收 Filebeat 的日志输入，容易造成单点瓶颈；如果采用 Kafka 接收 Filebeat 的日志输入，日志的时效性又得不到保障。这里直接将 Filebeat 采集的日志直接输出到 Elasticsearch。 1. 准备工作 节点规划 这里没有区分 master、data、client 节点，而是</description><dc:creator>微信公众号</dc:creator><category>博文</category><category>Kubernetes</category><category>Elasticsearch</category><category>日志</category></item></channel></rss>